---
title: Redis雪崩
date: 2018-03-13 15:30:31
tags:
	- Redis
	- 缓存
---

# redis雪崩会怎么样?
## 现象
最近在公司遇到一次缓存雪崩，虽然DB没有真的崩溃，但是对于业务还是造成了一定的影响。
所以想整理一下关于这个问题的一些看法和解决方案。

## 缓存雪崩是什么？
baidu一下这个问题，其实百度给出了很详细的解释和一定的解决方案，这里就不赘述了。

## 问题的根本在哪里？
传统的使用redis的方法,都是先调用redis的get方法,如果不存在则调用数据库,成功后插入数据。
如果数据为空，或者命中率低会很容易发生缓存击穿和穿透问题。
那么为什么大家都还是这么写代码？
因为这个写法最简单！！！
不需要加锁！！！也不需要通过异步任务的方式加载数据！！！更不需要去关心数据的生命周期！！！
怎么办好呢？
你不见得去抱怨开发素质差？
那领导可能觉得你的水平也就和开发一样（至少情商是一致的，都是给我惹麻烦，不解决问题）。
所以有没有办法通过架构来解决这个问题？
看到过一个缓存框架，的确是或多或少的避免了上述问题，可以借鉴一下。
[AutoLoadCache框架](https://github.com/qiujiayu/AutoLoadCache)